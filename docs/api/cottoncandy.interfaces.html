<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>interfaces &#8212; cottoncandy 0.2.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="utils" href="cottoncandy.utils.html" />
    <link rel="prev" title="browser" href="cottoncandy.browser.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          cottoncandy</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">interfaces</span></code></a><ul>
<li><a class="reference internal" href="#arrayinterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayInterface</span></code></a></li>
<li><a class="reference internal" href="#basicinterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicInterface</span></code></a></li>
<li><a class="reference internal" href="#defaultinterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultInterface</span></code></a></li>
<li><a class="reference internal" href="#encryptedinterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncryptedInterface</span></code></a></li>
<li><a class="reference internal" href="#filesysteminterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemInterface</span></code></a></li>
<li><a class="reference internal" href="#interfaceobject"><code class="xref py py-class docutils literal notranslate"><span class="pre">InterfaceObject</span></code></a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="cottoncandy.browser.html" title="Previous Chapter: browser"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; browser</span>
    </a>
  </li>
  <li>
    <a href="cottoncandy.utils.html" title="Next Chapter: utils"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">utils &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/api/cottoncandy.interfaces.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
  <li>
    <a href="cottoncandy.browser.html" title="Previous Chapter: browser"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; browser</span>
    </a>
  </li>
  <li>
    <a href="cottoncandy.utils.html" title="Next Chapter: utils"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">utils &raquo;</span>
    </a>
  </li>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="module-cottoncandy.interfaces">
<span id="interfaces"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">interfaces</span></code><a class="headerlink" href="#module-cottoncandy.interfaces" title="Permalink to this headline">¶</a></h1>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cottoncandy.interfaces.ArrayInterface" title="cottoncandy.interfaces.ArrayInterface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ArrayInterface</span></code></a>(*args, **kwargs)</p></td>
<td><p>Provides numpy.array concepts.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cottoncandy.interfaces.BasicInterface" title="cottoncandy.interfaces.BasicInterface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BasicInterface</span></code></a>(bucket_name, ACCESS_KEY, …)</p></td>
<td><p>Basic cottoncandy interface to the cloud.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cottoncandy.interfaces.DefaultInterface" title="cottoncandy.interfaces.DefaultInterface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DefaultInterface</span></code></a>(*args, **kwargs)</p></td>
<td><p>Default cottoncandy interface to the cloud</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cottoncandy.interfaces.EncryptedInterface" title="cottoncandy.interfaces.EncryptedInterface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EncryptedInterface</span></code></a>(bucket, access, secret, url)</p></td>
<td><p>Interface that transparently encrypts everything uploaded to the cloud</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cottoncandy.interfaces.FileSystemInterface" title="cottoncandy.interfaces.FileSystemInterface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FileSystemInterface</span></code></a>(*args, **kwargs)</p></td>
<td><p>Emulate some file system functionality.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cottoncandy.interfaces.InterfaceObject" title="cottoncandy.interfaces.InterfaceObject"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InterfaceObject</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<div class="section" id="arrayinterface">
<h2><a class="reference internal" href="#cottoncandy.interfaces.ArrayInterface" title="cottoncandy.interfaces.ArrayInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayInterface</span></code></a><a class="headerlink" href="#arrayinterface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cottoncandy.interfaces.ArrayInterface">
<em class="property">class </em><code class="sig-prename descclassname">cottoncandy.interfaces.</code><code class="sig-name descname">ArrayInterface</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cottoncandy.interfaces.BasicInterface" title="cottoncandy.interfaces.BasicInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">cottoncandy.interfaces.BasicInterface</span></code></a></p>
<p>Provides numpy.array concepts.</p>
<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>ACCESS_KEY</strong> (<em>str</em>) – </p></li>
<li><p><strong>SECRET_KEY</strong> (<em>str</em>) – </p></li>
<li><p><strong>endpoint_url</strong> (<em>str</em>) – The URL for the S3 gateway</p></li>
<li><p><strong>force_bucket_creation</strong> (<em>bool</em>) – Create requested bucket if it doesn’t exist</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cci</strong> – Cottoncandy interface object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ccio</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.cloud2dataset">
<code class="sig-name descname">cloud2dataset</code><span class="sig-paren">(</span><em class="sig-param">object_root</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.cloud2dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dataset representation of the object branch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_root</strong> (<em>str</em>) – The branch to create a dataset from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cc_dataset_object</strong> – This can be conceptualized as implementing an h5py/pytables
object with <code class="docutils literal notranslate"><span class="pre">load()</span></code> and <code class="docutils literal notranslate"><span class="pre">keys()</span></code> methods.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>cottoncandy.BrowserObject</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.cloud2dict">
<code class="sig-name descname">cloud2dict</code><span class="sig-paren">(</span><em class="sig-param">object_root</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">keys=None</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.cloud2dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Download all the arrays of the object branch and return a dictionary.
This is the complement to <code class="docutils literal notranslate"><span class="pre">dict2cloud</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_root</strong> (<em>str</em>) – The branch to create the dictionary from</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Whether to print object_root after completion</p></li>
<li><p><strong>keys</strong> (<em>A list of strings</em>) – Specify which keys to download</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>datadict</strong> – An arbitrary depth dictionary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.dict2cloud">
<code class="sig-name descname">dict2cloud</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">array_dict</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.dict2cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload an arbitrary depth dictionary containing arrays</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>array_dict</strong> (<em>dict</em>) – An arbitrary depth dictionary of arrays. This can be
conceptualized as implementing an HDF-like group</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Whether to print object_name after completion</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.download_dask_array">
<code class="sig-name descname">download_dask_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">dask_name='array'</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.download_dask_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a split matrix as a <code class="docutils literal notranslate"><span class="pre">dask.array.Array</span></code> object</p>
<p>This uses the stored object metadata to reconstruct the full
n-dimensional array uploaded using <code class="docutils literal notranslate"><span class="pre">upload_dask_array</span></code>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s3_response</span> <span class="o">=</span> <span class="n">cci</span><span class="o">.</span><span class="n">upload_dask_array</span><span class="p">(</span><span class="s1">&#39;test_dim&#39;</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dask_object</span> <span class="o">=</span> <span class="n">cci</span><span class="o">.</span><span class="n">download_dask_array</span><span class="p">(</span><span class="s1">&#39;test_dim&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dask_object</span>
<span class="go">dask.array&lt;array, shape=(100, 600, 1000), dtype=float64, chunksize=(100, 600, 100)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dask_slice</span> <span class="o">=</span> <span class="n">dask_object</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="p">:</span><span class="mi">200</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dask_slice</span>
<span class="go">dask.array&lt;getitem..., shape=(100, 600, 1000), dtype=float64, chunksize=(100, 600, 100)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">downloaded_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dask_slice</span><span class="p">)</span> <span class="c1"># this downloads the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">downloaded_data</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 600, 200)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.download_npy_array">
<code class="sig-name descname">download_npy_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.download_npy_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a np.ndarray uploaded using <code class="docutils literal notranslate"><span class="pre">np.save</span></code> with <code class="docutils literal notranslate"><span class="pre">np.load</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>array</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.download_raw_array">
<code class="sig-name descname">download_raw_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">buffersize=65536</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.download_raw_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a binary np.ndarray and return an np.ndarray object
This method downloads an array without any disk or memory overhead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>buffersize</strong> (<em>optional</em><em> (</em><em>defaults 2^16</em><em>)</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>array</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The object must have metadata containing: shape, dtype and a gzip
boolean flag. This is all automatically handled by <code class="docutils literal notranslate"><span class="pre">upload_raw_array</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.download_sparse_array">
<code class="sig-name descname">download_sparse_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.download_sparse_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a scipy.sparse array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_name</strong> (<em>str</em>) – The object name for the sparse array to be retrieved.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>arr</strong> – The array stored at the location given by object_name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>scipy.sparse.spmatrix</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.upload_dask_array">
<code class="sig-name descname">upload_dask_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">arr</em>, <em class="sig-param">axis=-1</em>, <em class="sig-param">buffersize=104857600</em>, <em class="sig-param">**metakwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.upload_dask_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload an array in chunks and store the metadata to reconstruct
the complete matrix with <code class="docutils literal notranslate"><span class="pre">dask</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>arr</strong> (<em>np.ndarray</em>) – </p></li>
<li><p><strong>axis</strong> (<em>int</em><em> or </em><em>None</em><em> (</em><em>default: -1</em><em>)</em>) – The axis along which to slice the array. If None is given,
the array is chunked into ideal isotropic voxels.
<code class="docutils literal notranslate"><span class="pre">axis=None</span></code> is WIP and atm works fine for near isotropic matrices</p></li>
<li><p><strong>buffersize</strong> (<em>scalar</em><em> (</em><em>default: 100MB</em><em>)</em>) – Byte size of the desired array chunks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>response</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boto3 response</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Each array chunk is uploaded as a raw np.array with the prefix “pt%04i”.
The metadata is stored as a json file <code class="docutils literal notranslate"><span class="pre">metadata.json</span></code>. For example, if
an array is uploaded with the name “my_array_name” and split into 2 parts,
the following objects are created:</p>
<ul class="simple">
<li><p>my_array_name/pt0000</p></li>
<li><p>my_array_name/pt0001</p></li>
<li><p>my_array_name/metadata.json</p></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.upload_npy_array">
<code class="sig-name descname">upload_npy_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">array</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.upload_npy_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a np.ndarray using <code class="docutils literal notranslate"><span class="pre">np.save</span></code></p>
<p>This method creates a copy of the array in memory
before uploading since it relies on <code class="docutils literal notranslate"><span class="pre">np.save</span></code> to
get a byte representation of the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>array</strong> (<em>numpy.ndarray</em>) – </p></li>
<li><p><strong>acl</strong> (<em>ACL for this object</em>) – </p></li>
<li><p><strong>**metadata</strong> (<em>extra kwargs are uploaded to object metadata</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>reponse</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boto3 upload response</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#cottoncandy.interfaces.ArrayInterface.upload_raw_array" title="cottoncandy.interfaces.ArrayInterface.upload_raw_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">upload_raw_array()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.upload_raw_array">
<code class="sig-name descname">upload_raw_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">array</em>, <em class="sig-param">compression=True</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.upload_raw_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a binary representation of a np.ndarray</p>
<p>This method reads the array content from memory to upload.
It does not have any overhead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>array</strong> (<em>np.ndarray</em>) – </p></li>
<li><p><strong>compression</strong> (<em>str</em><em>, </em><em>bool</em>) – <cite>True</cite> uses the configuration defaults. <cite>False</cite> is no compression.
Available options are: ‘gzip’, ‘LZ4’, ‘Zlib’, ‘Zstd’, ‘BZ2’ (attend to caps).
NB: Zstd appears to be the only one that supports &gt;2GB arrays.</p></li>
<li><p><strong>acl</strong> (<em>str</em>) – ACL for the object</p></li>
<li><p><strong>**metadata</strong> (<em>optional</em>) – </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method also uploads the array <code class="docutils literal notranslate"><span class="pre">dtype</span></code>, <code class="docutils literal notranslate"><span class="pre">shape</span></code>, and <code class="docutils literal notranslate"><span class="pre">gzip</span></code>
flag as metadata</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.ArrayInterface.upload_sparse_array">
<code class="sig-name descname">upload_sparse_array</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">arr</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.ArrayInterface.upload_sparse_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a scipy.sparse array as a folder of array objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – The name of the object to be stored.</p></li>
<li><p><strong>arr</strong> (<em>scipy.sparse.spmatrix</em>) – A scipy.sparse array to be saved. If type is DOK or LIL,
it will be converted to csr before saving</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="basicinterface">
<h2><a class="reference internal" href="#cottoncandy.interfaces.BasicInterface" title="cottoncandy.interfaces.BasicInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicInterface</span></code></a><a class="headerlink" href="#basicinterface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cottoncandy.interfaces.BasicInterface">
<em class="property">class </em><code class="sig-prename descclassname">cottoncandy.interfaces.</code><code class="sig-name descname">BasicInterface</code><span class="sig-paren">(</span><em class="sig-param">bucket_name</em>, <em class="sig-param">ACCESS_KEY</em>, <em class="sig-param">SECRET_KEY</em>, <em class="sig-param">url=None</em>, <em class="sig-param">force_bucket_creation=False</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">backend='s3'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cottoncandy.interfaces.InterfaceObject" title="cottoncandy.interfaces.InterfaceObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">cottoncandy.interfaces.InterfaceObject</span></code></a></p>
<p>Basic cottoncandy interface to the cloud.</p>
<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">bucket_name</em>, <em class="sig-param">ACCESS_KEY</em>, <em class="sig-param">SECRET_KEY</em>, <em class="sig-param">url=None</em>, <em class="sig-param">force_bucket_creation=False</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">backend='s3'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>ACCESS_KEY</strong> (<em>str</em>) – The S3 access key, or client secrets json file</p></li>
<li><p><strong>SECRET_KEY</strong> (<em>str</em>) – The S3 secret key, or client credentials file</p></li>
<li><p><strong>url</strong> (<em>str</em>) – The URL for the S3 gateway</p></li>
<li><p><strong>force_bucket_creation</strong> (<em>bool</em>) – if bucket does not exist, make it?</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – print things?</p></li>
<li><p><strong>backend</strong> (<em>'s3'|'gdrive'</em>) – Access s3 or google drive?</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>,</em>) – S3 only. Passed to backend.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cci</strong> – Cottoncandy interface object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ccio</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.bucket_name">
<em class="property">property </em><code class="sig-name descname">bucket_name</code><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.bucket_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.create_bucket">
<code class="sig-name descname">create_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name</em>, <em class="sig-param">acl='authenticated-read'</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.create_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new bucket</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.download_json">
<code class="sig-name descname">download_json</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.download_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a JSON object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>json_data</strong> – Dictionary representation of JSON file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.download_object">
<code class="sig-name descname">download_object</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.download_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Download object raw data.
This simply calls the object body <code class="docutils literal notranslate"><span class="pre">read()</span></code> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>byte_data</strong> – Object byte contents</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.download_pickle">
<code class="sig-name descname">download_pickle</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.download_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a pickle object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data_object</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.download_stream">
<code class="sig-name descname">download_stream</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.download_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the CloudStream object for an object
:param self:
:param object_name:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>CloudStream object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.download_to_file">
<code class="sig-name descname">download_to_file</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.download_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Download cloud object to a file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – Absolute path where the data will be downloaded on disk</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.exists_bucket">
<code class="sig-name descname">exists_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.exists_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the bucket exists</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.exists_object">
<code class="sig-name descname">exists_object</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">bucket_name=None</em>, <em class="sig-param">raise_err=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.exists_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether object exists in bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – The object name</p></li>
<li><p><strong>raise_err</strong> (<em>boolean</em>) – If set to True, this function will throw an exception if the
object does not exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.get_bucket">
<code class="sig-name descname">get_bucket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.get_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bucket boto3 object</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.get_bucket_objects">
<code class="sig-name descname">get_bucket_objects</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.get_bucket_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of objects from the bucket.</p>
<p>This is a wrapper to <code class="docutils literal notranslate"><span class="pre">self.get_bucket().bucket.objects</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> (<em>int</em><em>, </em><em>1000</em>) – Maximum number of items to return</p></li>
<li><p><strong>page_size</strong> (<em>int</em><em>, </em><em>1000</em>) – The page size for pagination</p></li>
<li><p><strong>filter</strong> (<em>dict</em>) – A dictionary with key ‘Prefix’, specifying a prefix
string.  Only return objects matching this string.
Defaults to ‘/’ (i.e. all objects).</p></li>
<li><p><strong>kwargs</strong> (<em>optional</em>) – Dictionary of {method:value} for <code class="docutils literal notranslate"><span class="pre">bucket.objects</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>objects_list</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list (boto3 objects)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If you get a ‘PaginationError’, this means you have
a lot of items on your bucket and should increase <code class="docutils literal notranslate"><span class="pre">page_size</span></code></p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.get_bucket_size">
<code class="sig-name descname">get_bucket_size</code><span class="sig-paren">(</span><em class="sig-param">limit=1000000</em>, <em class="sig-param">page_size=1000000</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.get_bucket_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the size of all objects in the current bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> (<em>int</em><em>, </em><em>10^6</em>) – Maximum number of items to return</p></li>
<li><p><strong>page_size</strong> (<em>int</em><em>, </em><em>10^6</em>) – The page size for pagination</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>total_bytes</strong> – The byte count of all objects in the bucket.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Because paging does not work properly, if there are more than
limit,page_size number of objects in the bucket, this function will
underestimate the total size. Check the printed number of objects for
suspicious round numbers.
TODO(anunez): Remove this note when the bug is fixed.</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.get_object">
<code class="sig-name descname">get_object</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">bucket_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.get_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a boto3 object. Create it if it doesn’t exist</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.get_objects">
<code class="sig-name descname">get_objects</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.get_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Like get_bucket_objects, but more aptly named to the generic interface
:param self:
:param kwargs:</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.get_size">
<code class="sig-name descname">get_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the total size of the current container of objects. Generic naming.
:param self:</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.mpu_fileobject">
<code class="sig-name descname">mpu_fileobject</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">file_object</em>, <em class="sig-param">buffersize=104857600</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.mpu_fileobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Multi-part upload for a file-object.</p>
<p>This automatically creates a multipart upload of an object.
Useful for large objects that are loaded in memory. This avoids
having to write the file to disk and then using <code class="docutils literal notranslate"><span class="pre">upload_from_file</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>file_object</strong> – file-like object (e.g. StringIO, file, etc)</p></li>
<li><p><strong>buffersize</strong> (<em>int</em><em>, </em><em>(</em><em>defaults to 100MB</em><em>)</em>) – Byte size of the individual parts to create.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – verbosity flag of whether to print mpu information to stdout</p></li>
<li><p><strong>**metadata</strong> (<em>optional</em>) – Metadata to store along with MPU object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.pathjoin">
<code class="sig-name descname">pathjoin</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">*p</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.pathjoin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.rm_bucket">
<code class="sig-name descname">rm_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.rm_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an empty bucket. Throws an exception when bucket is not empty.</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.set_bucket">
<code class="sig-name descname">set_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.set_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Bucket to use</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.show_buckets">
<code class="sig-name descname">show_buckets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.show_buckets" title="Permalink to this definition">¶</a></dt>
<dd><p>Show available buckets</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.show_objects">
<code class="sig-name descname">show_objects</code><span class="sig-paren">(</span><em class="sig-param">limit=1000</em>, <em class="sig-param">page_size=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.show_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Print objects in the current bucket</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.upload_from_directory">
<code class="sig-name descname">upload_from_directory</code><span class="sig-paren">(</span><em class="sig-param">disk_path</em>, <em class="sig-param">cloud_path=None</em>, <em class="sig-param">recursive=False</em>, <em class="sig-param">ExtraArgs={'ACL': 'authenticated-read'}</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.upload_from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a directory to the cloud</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.upload_from_file">
<code class="sig-name descname">upload_from_file</code><span class="sig-paren">(</span><em class="sig-param">flname</em>, <em class="sig-param">object_name=None</em>, <em class="sig-param">ExtraArgs={'ACL': 'authenticated-read'}</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.upload_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a file to the cloud.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – Absolute path of file to upload</p></li>
<li><p><strong>object_name</strong> (<em>str</em><em>, </em><em>None</em>) – Name of uploaded object. If None, use
the full file name as the object name.</p></li>
<li><p><strong>ExtraArgs</strong> (<em>dict</em>) – Defaults <code class="docutils literal notranslate"><span class="pre">dict(ACL=DEFAULT_ACL)</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>response</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boto3 response</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.upload_json">
<code class="sig-name descname">upload_json</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">ddict</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.upload_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a dict as a JSON using <code class="docutils literal notranslate"><span class="pre">json.dumps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>ddict</strong> (<em>dict to upload</em>) – </p></li>
<li><p><strong>metadata</strong> (<em>dict</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.upload_object">
<code class="sig-name descname">upload_object</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">body</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.upload_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.BasicInterface.upload_pickle">
<code class="sig-name descname">upload_pickle</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">data_object</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.BasicInterface.upload_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload an object using pickle: <code class="docutils literal notranslate"><span class="pre">pickle.dumps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>data_object</strong> (<em>object</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="defaultinterface">
<h2><a class="reference internal" href="#cottoncandy.interfaces.DefaultInterface" title="cottoncandy.interfaces.DefaultInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultInterface</span></code></a><a class="headerlink" href="#defaultinterface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cottoncandy.interfaces.DefaultInterface">
<em class="property">class </em><code class="sig-prename descclassname">cottoncandy.interfaces.</code><code class="sig-name descname">DefaultInterface</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.DefaultInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cottoncandy.interfaces.FileSystemInterface" title="cottoncandy.interfaces.FileSystemInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">cottoncandy.interfaces.FileSystemInterface</span></code></a>, <a class="reference internal" href="#cottoncandy.interfaces.ArrayInterface" title="cottoncandy.interfaces.ArrayInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">cottoncandy.interfaces.ArrayInterface</span></code></a>, <a class="reference internal" href="#cottoncandy.interfaces.BasicInterface" title="cottoncandy.interfaces.BasicInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">cottoncandy.interfaces.BasicInterface</span></code></a></p>
<p>Default cottoncandy interface to the cloud</p>
<p>This includes numpy.array and file-system-like
concepts for easy data I/O and bucket/object exploration.</p>
<dl class="method">
<dt id="cottoncandy.interfaces.DefaultInterface.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.DefaultInterface.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>ACCESS_KEY</strong> (<em>str</em>) – </p></li>
<li><p><strong>SECRET_KEY</strong> (<em>str</em>) – </p></li>
<li><p><strong>endpoint_url</strong> (<em>str</em>) – The URL for the S3 gateway</p></li>
<li><p><strong>force_bucket_creation</strong> (<em>bool</em>) – Create requested bucket if it doesn’t exist</p></li>
<li><p><strong>backend</strong> (<em>'s3'|'gdrive'</em>) – which backend to hook on to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cci</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>cottoncandy.InterfaceObject</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="encryptedinterface">
<h2><a class="reference internal" href="#cottoncandy.interfaces.EncryptedInterface" title="cottoncandy.interfaces.EncryptedInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncryptedInterface</span></code></a><a class="headerlink" href="#encryptedinterface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cottoncandy.interfaces.EncryptedInterface">
<em class="property">class </em><code class="sig-prename descclassname">cottoncandy.interfaces.</code><code class="sig-name descname">EncryptedInterface</code><span class="sig-paren">(</span><em class="sig-param">bucket</em>, <em class="sig-param">access</em>, <em class="sig-param">secret</em>, <em class="sig-param">url</em>, <em class="sig-param">encryption='AES'</em>, <em class="sig-param">key=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.EncryptedInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cottoncandy.interfaces.DefaultInterface" title="cottoncandy.interfaces.DefaultInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">cottoncandy.interfaces.DefaultInterface</span></code></a></p>
<p>Interface that transparently encrypts everything uploaded to the cloud</p>
<dl class="method">
<dt id="cottoncandy.interfaces.EncryptedInterface.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">bucket</em>, <em class="sig-param">access</em>, <em class="sig-param">secret</em>, <em class="sig-param">url</em>, <em class="sig-param">encryption='AES'</em>, <em class="sig-param">key=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.EncryptedInterface.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket</strong> – </p></li>
<li><p><strong>access</strong> – </p></li>
<li><p><strong>secret</strong> – </p></li>
<li><p><strong>url</strong> – </p></li>
<li><p><strong>encryption</strong> (<em>'AES' | 'RSA'</em>) – </p></li>
<li><p><strong>key</strong> (<em>str</em>) – if AES, key; if RSA, filename of .pem format key</p></li>
<li><p><strong>backend</strong> (<em>'s3'|'gdrive'</em>) – which backend to hook on to</p></li>
<li><p><strong>args</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.EncryptedInterface.download_stream">
<code class="sig-name descname">download_stream</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.EncryptedInterface.download_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the CloudStream object for an object
:param self:
:param object_name:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>CloudStream object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.EncryptedInterface.download_to_file">
<code class="sig-name descname">download_to_file</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.EncryptedInterface.download_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Download cloud object to a file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – Absolute path where the data will be downloaded on disk</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.EncryptedInterface.upload_from_file">
<code class="sig-name descname">upload_from_file</code><span class="sig-paren">(</span><em class="sig-param">local_file_name</em>, <em class="sig-param">object_name=None</em>, <em class="sig-param">ExtraArgs={'ACL': 'authenticated-read'}</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.EncryptedInterface.upload_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a file to the cloud.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – Absolute path of file to upload</p></li>
<li><p><strong>object_name</strong> (<em>str</em><em>, </em><em>None</em>) – Name of uploaded object. If None, use
the full file name as the object name.</p></li>
<li><p><strong>ExtraArgs</strong> (<em>dict</em>) – Defaults <code class="docutils literal notranslate"><span class="pre">dict(ACL=DEFAULT_ACL)</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>response</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boto3 response</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.EncryptedInterface.upload_object">
<code class="sig-name descname">upload_object</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">body</em>, <em class="sig-param">acl='authenticated-read'</em>, <em class="sig-param">**metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.EncryptedInterface.upload_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="filesysteminterface">
<h2><a class="reference internal" href="#cottoncandy.interfaces.FileSystemInterface" title="cottoncandy.interfaces.FileSystemInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemInterface</span></code></a><a class="headerlink" href="#filesysteminterface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cottoncandy.interfaces.FileSystemInterface">
<em class="property">class </em><code class="sig-prename descclassname">cottoncandy.interfaces.</code><code class="sig-name descname">FileSystemInterface</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cottoncandy.interfaces.BasicInterface" title="cottoncandy.interfaces.BasicInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">cottoncandy.interfaces.BasicInterface</span></code></a></p>
<p>Emulate some file system functionality.</p>
<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>str</em>) – </p></li>
<li><p><strong>ACCESS_KEY</strong> (<em>str</em>) – </p></li>
<li><p><strong>SECRET_KEY</strong> (<em>str</em>) – </p></li>
<li><p><strong>endpoint_url</strong> (<em>str</em>) – The URL for the S3 gateway</p></li>
<li><p><strong>force_bucket_creation</strong> (<em>bool</em>) – Create requested bucket if it doesn’t exist</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cci</strong> – Cottoncandy interface object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ccio</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.cp">
<code class="sig-name descname">cp</code><span class="sig-paren">(</span><em class="sig-param">source_name</em>, <em class="sig-param">dest_name</em>, <em class="sig-param">source_bucket=None</em>, <em class="sig-param">dest_bucket=None</em>, <em class="sig-param">overwrite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy an object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_name</strong> (<em>str</em>) – Name of object to be copied</p></li>
<li><p><strong>dest_name</strong> (<em>str</em>) – Copy name</p></li>
<li><p><strong>source_bucket</strong> (<em>str</em>) – If copying from a bucket different from the default.
Defaults to <code class="docutils literal notranslate"><span class="pre">self.bucket_name</span></code></p></li>
<li><p><strong>dest_bucket</strong> (<em>str</em>) – If copying to a bucket different from the source bucket.
Defaults to <code class="docutils literal notranslate"><span class="pre">source_bucket</span></code></p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em> (</em><em>defaults to False</em><em>)</em>) – Whether to overwrite the <cite>dest_name</cite> object if it already exists</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.download_directory">
<code class="sig-name descname">download_directory</code><span class="sig-paren">(</span><em class="sig-param">directory</em>, <em class="sig-param">disk_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.download_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Download an entire directory
NOTE: currently only tested on s3</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self</strong> – </p></li>
<li><p><strong>directory</strong> (<em>str</em>) – directory on s3 to download</p></li>
<li><p><strong>disk_name</strong> – name of directory on disk to download to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.get_browser">
<code class="sig-name descname">get_browser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.get_browser" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object which can be tab-completed
to browse the contents of the bucket as if it were a file-system</p>
<p>See documentation for <code class="docutils literal notranslate"><span class="pre">cottoncandy.get_browser</span></code></p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.get_object_owner">
<code class="sig-name descname">get_object_owner</code><span class="sig-paren">(</span><em class="sig-param">object_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.get_object_owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.glob">
<code class="sig-name descname">glob</code><span class="sig-paren">(</span><em class="sig-param">pattern</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.glob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of object names in the cloud storage
that match the glob pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>str</em><em>,</em>) – A glob pattern string</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, also print object name and creation date</p></li>
<li><p><strong>limit</strong> (<em>None</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>page_size</strong> (<em>int</em><em>, </em><em>optional</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>object_names</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cci</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;/path/to/*/file01*.grp/image_data&#39;</span><span class="p">)</span>
<span class="go">[&#39;/path/to/my/file01a.grp/image_data&#39;,</span>
<span class="go"> &#39;/path/to/my/file01b.grp/image_data&#39;,</span>
<span class="go"> &#39;/path/to/your/file01a.grp/image_data&#39;,</span>
<span class="go"> &#39;/path/to/your/file01b.grp/image_data&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cci</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;/path/to/my/file02*.grp/*&#39;</span><span class="p">)</span>
<span class="go">[&#39;/path/to/my/file02a.grp/image_data&#39;,</span>
<span class="go"> &#39;/path/to/my/file02a.grp/text_data&#39;,</span>
<span class="go"> &#39;/path/to/my/file02b.grp/image_data&#39;,</span>
<span class="go"> &#39;/path/to/my/file02b.grp/text_data&#39;,]</span>
</pre></div>
</div>
<p>Some gotchas</p>
<dl class="simple">
<dt>limit: None, int, optional</dt><dd><p>The maximum number of objects to return</p>
</dd>
<dt>page_size: int, optional</dt><dd><p>This is important for buckets with loads of objects.
By default, <code class="docutils literal notranslate"><span class="pre">glob</span></code> will download a maximum of 10^6
object names and perform the search. If more objects exist,
the search might not find them and the page_size should
be increased.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If more than 10^6 objects, provide <code class="docutils literal notranslate"><span class="pre">page_size=10**7</span></code> kwarg.</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.glob_google_drive">
<code class="sig-name descname">glob_google_drive</code><span class="sig-paren">(</span><em class="sig-param">pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.glob_google_drive" title="Permalink to this definition">¶</a></dt>
<dd><p>Globbing on google drive</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pattern</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.glob_s3">
<code class="sig-name descname">glob_s3</code><span class="sig-paren">(</span><em class="sig-param">pattern</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.glob_s3" title="Permalink to this definition">¶</a></dt>
<dd><p>Globbing on S3</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.ls">
<code class="sig-name descname">ls</code><span class="sig-paren">(</span><em class="sig-param">pattern</em>, <em class="sig-param">page_size=1000</em>, <em class="sig-param">limit=1000</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.ls" title="Permalink to this definition">¶</a></dt>
<dd><p>File-system like search for S3 objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>str</em>) – A ls-style command line like query</p></li>
<li><p><strong>page_size</strong> (<em>int</em><em> (</em><em>default: 1</em><em>,</em><em>000</em><em>)</em>) – </p></li>
<li><p><strong>limit</strong> (<em>int</em><em> (</em><em>default: 1</em><em>,</em><em>000</em><em>)</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>object_names</strong> – Object names that match the search pattern</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Increase <code class="docutils literal notranslate"><span class="pre">page_size</span></code> and <code class="docutils literal notranslate"><span class="pre">limit</span></code> if you have a lot of objects
otherwise, the search might not return all matching objects in store.</p>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.lsdir">
<code class="sig-name descname">lsdir</code><span class="sig-paren">(</span><em class="sig-param">path='/'</em>, <em class="sig-param">limit=1000</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.lsdir" title="Permalink to this definition">¶</a></dt>
<dd><p>List the contents of a directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em><em> (</em><em>default: &quot;/&quot;</em><em>)</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matches</strong> – The children of the path.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.mv">
<code class="sig-name descname">mv</code><span class="sig-paren">(</span><em class="sig-param">source_name</em>, <em class="sig-param">dest_name</em>, <em class="sig-param">source_bucket=None</em>, <em class="sig-param">dest_bucket=None</em>, <em class="sig-param">overwrite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.mv" title="Permalink to this definition">¶</a></dt>
<dd><p>Move an object (make copy and delete old object)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_name</strong> (<em>str</em>) – Name of object to be moved</p></li>
<li><p><strong>dest_name</strong> (<em>str</em>) – New object name</p></li>
<li><p><strong>source_bucket</strong> (<em>str</em>) – If moving object from a bucket different from the default.
Defaults to <code class="docutils literal notranslate"><span class="pre">self.bucket_name</span></code></p></li>
<li><p><strong>dest_bucket</strong> (<em>str</em><em> (</em><em>defaults to None</em><em>)</em>) – If moving to another bucket, provide the bucket name.
Defaults to <code class="docutils literal notranslate"><span class="pre">source_bucket</span></code></p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em> (</em><em>defaults to False</em><em>)</em>) – Whether to overwrite the <cite>dest_name</cite> object if it already exists.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.rm">
<code class="sig-name descname">rm</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">recursive=False</em>, <em class="sig-param">delete=True</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.rm" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an object, or a subtree (‘path/to/stuff’).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_name</strong> (<em>str</em>) – The name of the object to delete. It can also
be a subtree</p></li>
<li><p><strong>recursive</strong> (<em>bool</em>) – When deleting a subtree, set <code class="docutils literal notranslate"><span class="pre">recursive=True</span></code>. This is
similar in behavior to ‘rm -r /path/to/directory’.</p></li>
<li><p><strong>delete</strong> (<em>bool</em>) – When in google drive, actually delete the file or only trash it?</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cottoncandy</span> <span class="k">as</span> <span class="nn">cc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cci</span> <span class="o">=</span> <span class="n">cc</span><span class="o">.</span><span class="n">get_interface</span><span class="p">(</span><span class="s1">&#39;mybucket&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">cci</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="s1">&#39;data/experiment/file01.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cci</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="s1">&#39;data/experiment&#39;</span><span class="p">)</span>
<span class="go">cannot remove &#39;data/experiment&#39;: use `recursive` to remove branch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cci</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="s1">&#39;data/experiment&#39;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">deleting 15 objects...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="cottoncandy.interfaces.FileSystemInterface.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">pattern</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.FileSystemInterface.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the objects matching the glob pattern</p>
<p>See <code class="docutils literal notranslate"><span class="pre">glob</span></code> documentation for details</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="interfaceobject">
<h2><a class="reference internal" href="#cottoncandy.interfaces.InterfaceObject" title="cottoncandy.interfaces.InterfaceObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">InterfaceObject</span></code></a><a class="headerlink" href="#interfaceobject" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cottoncandy.interfaces.InterfaceObject">
<em class="property">class </em><code class="sig-prename descclassname">cottoncandy.interfaces.</code><code class="sig-name descname">InterfaceObject</code><a class="headerlink" href="#cottoncandy.interfaces.InterfaceObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="cottoncandy.interfaces.InterfaceObject.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cottoncandy.interfaces.InterfaceObject.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright Anwar O. Nunez-Elizalde.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>